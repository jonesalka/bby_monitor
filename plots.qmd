<!-- ---
project:
  type: website
  output-dir: docs
title: "Populære Babynavne i Danmark"
subtitle: "Udvikling i de mest populære navne fra 1985-2023"
author: "Din Navn"
date: today
format:
  html:
    theme: default
    toc: true
    code-fold: true
    code-summary: "Vis kode"
    page-layout: full
jupyter: python3
--- -->

## Introduktion

Disse visualiseringer viser udviklingen i de mest populære babynavne i Danmark baseret på data fra Danmarks Statistik. Analysemetoden fokuserer på at identificere de 3 mest populære navne inden for 5-års perioder, startende fra 1985.

### Dataindsamling og -behandling

Data er hentet fra Danmarks Statistiks hjemmeside (dst.dk) ved hjælp af web scraping. For hver tilgængelig årgang indsamles de mest populære drenge- og pigenavne sammen med antallet af børn, der har fået disse navne.

**Analysemetode:**
- **Tidsperiode:** 1985-2023
- **Periodeopdeling:** 5-års intervaller (f.eks. 1985-1989, 1990-1994, osv.)
- **Udvælgelseskriterium:** De 3 mest populære navne per periode baseret på det samlede antal børn i perioden
- **Aggregering:** Navne aggregeres på tværs af årene inden for hver periode for at identificere de mest konsistente populære navne

Denne tilgang giver et klarere billede af navnetendenser over tid ved at reducere årlige udsving og fokusere på navne, der har været populære gennem længere perioder.

```{python}
# | echo: true
# | output: false

# Import nødvendige moduler fra baby_plots.py
import sys
import importlib

sys.path.insert(1, "src")
import baby_plots

importlib.reload(baby_plots)
from baby_plots import (
    plot_name_trends_plotly,
    load_navne_data,
    most_popular_by_period,
    diverging_colormap,
)

Drengenavne, Pigenavne = load_navne_data()
period = 5
top_x = 4
pop_piger = most_popular_by_period(Pigenavne, top_x=top_x, period=period)
pop_drenge = most_popular_by_period(Drengenavne, top_x=top_x, period=period)

```

## Populære Drengenavne

Følgende graf viser udviklingen i de mest populære drengenavne på tværs af 5-års perioder:

```{python}
# | echo: false
# | fig-cap: "Udvikling i populære drengenavne fra 1985-2023"
fig = plot_name_trends_plotly(
    Drengenavne,
    "Drenge",
    highlight_names=pop_drenge["Navn"].unique(),
    colormap=diverging_colormap,
)
fig.update_layout(
    # width=None,  # Remove fixed width
    # height=400,  # Keep reasonable height
    autosize=True,  # Make responsive
)
fig.show()
```

## Populære Pigenavne

Tilsvarende graf for de mest populære pigenavne:

```{python}
# | echo: false
# | fig-cap: "Udvikling i populære pigenavne fra 1985-2023"

fig = plot_name_trends_plotly(
    Pigenavne,
    "Piger",
    highlight_names=pop_piger["Navn"].unique(),
    colormap=diverging_colormap,
)

fig.update_layout(
    # width=400,  # Remove fixed width
    # height=400,  # Keep reasonable height
    autosize=True,  # Make responsive
)
fig.show()
```

## Konklusion

Graferne illustrerer tydeligt, hvordan navnetendenser ændrer sig over tid i Danmark. Nogle navne oplever kraftige stigninger og fald, mens andre har en mere stabil popularitet gennem flere perioder. Dette afspejler kulturelle tendenser, generationsskifte og påvirkning fra populærkultur på forældres navnevalg.